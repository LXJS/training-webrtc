<!DOCTYPE html>
<html>
  <head>
    <title>WebRTC workshop: step 2</title>
  </head>

  <body>

    <video></video>

    <script>

      navigator.getUserMedia = navigator.getUserMedia
        || navigator.webkitGetUserMedia
        || navigator.mozGetUserMedia
        || navigator.msGetUserMedia;

      navigator.getUserMedia({ video: true }, successCallback, errorCallback);

      function successCallback (stream) {
        window.stream = stream; // stream available to console
        var video = document.querySelector('video');
        video.src = window.URL.createObjectURL(stream);
        video.play();
      }

      function errorCallback (err) {
        console.error("getUserMedia error: ", err);
      }

    </script>

  </body>

</html>
